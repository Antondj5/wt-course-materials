<!DOCTYPE html>
<!--
	runs on Chrome Canary
-->
<html lang="en">
<head>
	<title> Webcam demo </title>
	<meta charset="UTF-8" />
	<script>

		window.addEventListener("load", function() {

			function onSuccess(stream) {
				var webcamstream = document.getElementById('webcamstream'); // a video element
				webcamstream.autoplay = true; // you can set this in your markup instead
				webcamstream.src = window.webkitURL.createObjectURL(stream);
			}

			function onError(e) {
				console.log(e.toString());
			}

			if (navigator.webkitGetUserMedia) {
				navigator.webkitGetUserMedia({video: true, audio: true}, onSuccess, onError);
			}
		}, false);


	</script>
	<style>

		#webcamstream {
			width: 640px;
			height: 480px;
		}

	</style>
</head>
<body>
	<video id="webcamstream"></video>
</body>
</html>
